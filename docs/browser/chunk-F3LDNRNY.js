import{a as L}from"./chunk-GRG4ZO6V.js";import{e as R}from"./chunk-WYCYRMNR.js";import{b as z,e as B,h as q,j as D,q as j}from"./chunk-AZ6OA4YQ.js";import{$b as O,Ab as x,Bb as T,Cb as V,Da as b,Db as E,Fb as h,Ga as a,Gb as v,Hb as k,La as _,Ra as y,Wa as I,ac as F,bb as f,bc as N,da as m,ea as s,gb as w,hb as P,ib as n,jb as o,kb as g,lb as C,nb as d,pb as p,xb as M,yb as c,zb as S}from"./chunk-457QI4L4.js";var A=(i,e)=>e.id;function $(i,e){if(i&1){let t=C();n(0,"li"),g(1,"img",5),n(2,"p"),c(3),o(),n(4,"p"),c(5),h(6,"currency"),o(),n(7,"label"),c(8," Quantidade: "),n(9,"input",6),E("ngModelChange",function(r){let u=m(t).$implicit;return V(u.quantity,r)||(u.quantity=r),s(r)}),d("change",function(){m(t);let r=p(2);return s(r.calculateTotalPrice())}),o()(),n(10,"button",7),d("click",function(){let r=m(t).$implicit,u=p(2);return s(u.removeFromCart(r.id))}),g(11,"i",8),o()()}if(i&2){let t=e.$implicit;a(),f("src",t.image,b),a(2),S(t.description),a(2),x("Pre\xE7o: ",v(6,4,t.price,"BRL"),""),a(4),T("ngModel",t.quantity)}}function Q(i,e){if(i&1){let t=C();n(0,"div")(1,"ul"),w(2,$,12,7,"li",null,A),o(),n(4,"h2",3),c(5),h(6,"currency"),o(),n(7,"button",4),d("click",function(){m(t);let r=p();return s(r.buyItems())}),c(8,"Comprar"),o()()}if(i&2){let t=p();a(2),P(t.cartItems),a(3),x("Total: ",v(6,1,t.totalPrice,"BRL"),"")}}function U(i,e){i&1&&c(0,"Nenhum produto foi adicionado ao carrinho")}var W=class i{constructor(e,t){this.cartService=e;this.router=t}cartItems=[];totalPrice=0;ngOnInit(){this.cartItems=this.cartService.getterCart(),this.calculateTotalPrice()}calculateTotalPrice(){this.totalPrice=this.cartItems.reduce((e,t)=>e+t.price*t.quantity,0)}removeFromCart(e){this.cartItems=this.cartItems.filter(t=>t.id!==e),this.cartService.removeFromCart(e),this.calculateTotalPrice()}buyItems(){alert("Voc\xEA finalizou a sua compra!"),this.cartService.clearCart(),this.router.navigate(["products"])}static \u0275fac=function(t){return new(t||i)(_(L),_(R))};static \u0275cmp=y({type:i,selectors:[["app-cart"]],decls:5,vars:2,consts:[["withoutProducts",""],[1,"cart-title"],[4,"ngIf","ngIfElse"],[1,"cart-total"],[1,"buy-button",3,"click"],[3,"src"],["type","number",3,"ngModelChange","change","ngModel"],[1,"remove-button",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,l){if(t&1&&(n(0,"h2",1),c(1,"Carrinho"),o(),I(2,Q,9,4,"div",2)(3,U,1,0,"ng-template",null,0,k)),t&2){let r=M(4);a(2),f("ngIf",l.cartItems.length>0)("ngIfElse",r)}},dependencies:[N,O,F,j,z,D,B,q],styles:[".cart-title[_ngcontent-%COMP%]{font-size:44px;color:var(--gray);font-weight:700;padding:8px 0}li[_ngcontent-%COMP%]{display:flex;box-shadow:#64646f33 0 7px 29px;border-radius:8px;overflow:hidden;margin:10px 0;height:100px;align-items:center;justify-content:space-between}img[_ngcontent-%COMP%]{width:100px;height:100px;display:block}.remove-button[_ngcontent-%COMP%]{background-color:red;border:none;color:#fff;padding:20px;height:100%;transition:.2s all}.remove-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.cart-total[_ngcontent-%COMP%]{font-size:24px;color:var(--gray);font-weight:700;padding:8px 0}input[_ngcontent-%COMP%]{width:30px;text-align:center}.buy-button[_ngcontent-%COMP%]{background-color:var(--blue);border:none;color:#fff;padding:10px;font-size:22px;margin-bottom:10px;transition:.3s all}.buy-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}"]})};export{W as CartComponent};

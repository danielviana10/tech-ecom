<h2 class="cart-title">Carrinho</h2>
<div *ngIf="cartItems.length > 0; else withoutProducts">
  <ul>
    @for (cartItem of cartItems; track cartItem.id) {
    <li>
      <div class="product-image__container" [style.background-color]="cartItem.backgroundColor">
        <img [src]="cartItem.image">
      </div>
      <p>{{cartItem.description}}</p>
      <p>Pre√ßo: {{ cartItem.price | currency:'BRL'}}</p>
      <label>
        Quantidade:
        <input type="number" [(ngModel)]="cartItem.quantity"
               (change)="calculateTotalPrice()"
               min="1"
               [max]="cartItem.stock">
      </label>
      <button class="remove-button" (click)="removeFromCart(cartItem.id)">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </li>
  }
  </ul>
  <h2 class="cart-total">Total: {{ totalPrice | currency: 'BRL'}}</h2>
  <button class="buy-button" (click)="buyItems()">Comprar</button>
</div>

<ng-template #withoutProducts>Nenhum produto foi adicionado ao carrinho</ng-template>
